head	1.6;
access;
symbols;
locks
	george:1.6; strict;
comment	@# @;


1.6
date	2010.08.26.03.53.24;	author george;	state Exp;
branches;
next	1.5;

1.5
date	2010.08.25.08.59.31;	author george;	state Exp;
branches;
next	1.4;

1.4
date	2010.08.25.06.23.08;	author george;	state Exp;
branches;
next	1.3;

1.3
date	2010.08.24.23.58.40;	author george;	state Exp;
branches;
next	1.2;

1.2
date	2010.08.24.07.48.49;	author george;	state Exp;
branches;
next	1.1;

1.1
date	2010.08.24.06.55.57;	author george;	state Exp;
branches;
next	;


desc
@with fully functioning http digest rekey, show, execute.
@


1.6
log
@*** empty log message ***
@
text
@#!/usr/local/bin/ruby   
require 'rubygems'
require 'json' 
#Rekey 
api_key= %x(curl --digest -u wala:1234 "http://localhost:3000/users/142/rekey.json")
puts api_key
while true
#create
puts 'hit return to create order:'
gets
     urlParams='checkout%5Bmemo%5D=%5B%7B%22qty%22%3A3%2C%22song_name%22%3A%22the+Desert+Moon%22%2C%22price%22%3A12%2C%22id%22%3A1%7D%2C%7B%22qty%22%3A3%2C%22song_name%22%3A%22Hymalayan+winds+%22%2C%22price%22%3A1%2C%22id%22%3A2%7D%2C%7B%22qty%22%3A3%2C%22song_name%22%3A%22Pine+away%22%2C%22price%22%3A1%2C%22id%22%3A3%7D%5D&checkout%5Bmobile%5D=9196095443&checkout%5Border_type%5D=checkout&checkout%5Bpin%5D=1234&checkout%5Bsum_total%5D=42.0&order_type=checkout&'+"user_credentials=#{api_key}"
gross_result= %x(curl -d "#{urlParams}"  "http://localhost:3000/orders.json")
 result = JSON.parse gross_result
   order_id = result['id'] #result.match'\d{1,9}'
puts gross_result 
puts order_id 

# show exe_curl api_key order_id
puts 'hit return to show order:'
gets
puts %x(curl  http://localhost:3000/orders/#{order_id}.json?user_credentials=#{api_key})

#execute exe_curl buy_code api_key order_id
puts "Enter buy code to execute order:"
p_code=gets.chomp
puts %x(curl -T put_file  http://localhost:3000/orders/#{order_id}/execute.json?"user_credentials=#{api_key}&buy_code=#{p_code}")

end
#puts %x(curl  http://localhost:3000/orders/#{order_id}.json?user_credentials=#{api_key})

@


1.5
log
@*** empty log message ***
@
text
@d1 3
a3 2
#!/usr/local/bin/ruby  
#require 'json'
d12 4
a15 3
result= %x(curl -d "#{urlParams}"  "http://localhost:3000/orders.json")
   order_id =result.match'\d{1,9}'
puts result
@


1.4
log
@*** empty log message ***
@
text
@d2 1
a2 1

d12 1
a12 1
   order_id =result
@


1.3
log
@rekey, create, execute, show. FMC.
@
text
@d6 1
a6 1

d26 1
a26 1

@


1.2
log
@*** empty log message ***
@
text
@d1 20
d22 3
a24 1
#curl -T put_file  http://localhost:3000/orders/$3/execute.json?"user_credentials=$2&buy_code=$1"
d27 1
a27 2
# show exe_curl api_key order_id
#curl  http://localhost:3000/orders/$2.json?user_credentials=$1
a28 5
#Rekey
#curl --digest -u wala:1234 "http://localhost:3000/users/142/rekey.json"
#
#create
curl -d "user_credentials=wPCitIVKCoPPfAO0QIKEformatjsonactioncreatecheckout&memo=[{"song_name":"the Desert Moon","price":12,"qty":3,"id":1},{"song_name":"Hymalayan winds ","price":1,"qty":3,"id":2},{"song_name":"Pine away","price":1,"qty":3,"id":3}]&mobile=9196095443&order_type=checkout&sum_total=42.0&pin=1234&order_type=checkout"  "http://localhost:3000/orders.json"
@


1.1
log
@Initial revision
@
text
@d9 4
a12 1
curl --digest -u wala:1234 "http://localhost:3000/users/142/rekey.json"
@
